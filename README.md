[README.md](https://github.com/user-attachments/files/21767173/README.md)
# Top Fitness Club Telegram Bot

"–¢–æ–ø–æ–≤—ã–π" Telegram-–±–æ—Ç –¥–ª—è —Ñ–∏—Ç–Ω–µ—Å-–∫–ª—É–±–∞ —Å –≥–æ—Å—Ç–µ–≤—ã–º –≤–∏–∑–∏—Ç–æ–º, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π, –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏, —Ñ–æ—Ä–º–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç–æ–º –ª–∏–¥–æ–≤.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –±—ã—Å—Ç—Ä—ã–º–∏ –∫–Ω–æ–ø–∫–∞–º–∏.
- **–ì–æ—Å—Ç–µ–≤–æ–π –≤–∏–∑–∏—Ç**: –∏–º—è + —Ç–µ–ª–µ—Ñ–æ–Ω ‚Üí –∑–∞–ø–∏—Å—å –≤ SQLite –∏ –ø–∏—Å—å–º–æ –Ω–∞ e-mail.
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ**: –ø–æ–¥–≥—Ä—É–∑–∫–∞ –∏–∑ Google Sheets (CSV-–ø—É–±–ª–∏–∫–∞—Ü–∏—è).
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: –æ—Ç–ø—Ä–∞–≤–∫–∞ –ª–æ–∫–∞—Ü–∏–∏ –∫–ª—É–±–∞ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ (Google/–Ø–Ω–¥–µ–∫—Å/Apple).
- **–ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã**.
- **–ñ–∞–ª–æ–±—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**: –æ—Ç–∫—Ä—ã—Ç–∏–µ Google Form.
- **–ö—É–ø–∏—Ç—å –∞–±–æ–Ω–µ–º–µ–Ω—Ç**: —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É/–º–∞–≥–∞–∑–∏–Ω.
- **/export**: —ç–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ –≤ CSV (—Ç–æ–ª—å–∫–æ ADMIN_TG_ID).

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+.
2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv:
   ```bash
   python -m venv .venv && source .venv/bin/activate
   ```
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è.
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
   ```bash
   export $(grep -v '^#' .env | xargs) && python bot.py
   ```

## –î–µ–ø–ª–æ–π –Ω–∞ Railway
1. –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∞–π–ª—ã:
   - `bot.py`
   - `requirements.txt`
   - `.env` (–≤ Git –Ω–µ –∫–æ–º–º–∏—Ç–∏–º; –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –≤ Railway ‚Üí Variables).
2. –í Railway —É–∫–∞–∂–∏—Ç–µ **Start Command**:  
   ```
   python bot.py
   ```
3. –ü–µ—Ä–µ–Ω–µ—Å–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ `.env` –≤ **Variables**.
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (–±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ polling).

## Google Sheets –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Google Sheet ‚Üí **File ‚Üí Share ‚Üí Publish to web** ‚Üí CSV.
- –í–æ–∑—å–º–∏—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ CSV –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ `SCHEDULE_CSV_URL`.
- –§–æ—Ä–º–∞—Ç –∫–æ–ª–æ–Ω–æ–∫: `date, time, class, coach, hall, notes` (–¥–∞—Ç–∞ –≤ `YYYY-MM-DD` –∏–ª–∏ `DD.MM.YYYY`).

## –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è
- –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `CLUB_LAT` –∏ `CLUB_LON`.
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "üìç –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–æ—é –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é" ‚Üí –±–æ—Ç –≤—ã–¥–∞—ë—Ç inline-–∫–Ω–æ–ø–∫–∏ —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.

## –≠–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫
- –ö–æ–º–∞–Ω–¥–∞ `/export` –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è `ADMIN_TG_ID`.
- –§–∞–π–ª CSV –ø—Ä–∏–ª–µ—Ç–∏—Ç –≤ —á–∞—Ç.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –ï—Å–ª–∏ SMTP –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –±–æ—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏–º–µ—Ç –∑–∞—è–≤–∫–∏, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø–∏—Å—å–º–æ (–ø–æ–∫–∞–∂–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ).
- –ë–∞–∑–∞ SQLite –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `guest_visits.sqlite3` –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
